<!DOCTYPE html><html lang="ru"><head>Â Â Â  <meta charset="UTF-8">Â Â Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">Â Â Â  <title>Urban Lunch</title>Â Â Â  <script src="https://telegram.org/js/telegram-web-app.js"></script>Â Â Â  <style>Â Â Â Â Â Â Â  :root {Â Â Â Â Â Â Â Â Â Â Â  --bg: #ffffff;Â Â Â Â Â Â Â Â Â Â Â  --text: #000000;Â Â Â Â Â Â Â Â Â Â Â  --hint: #8e8e93;Â Â Â Â Â Â Â Â Â Â Â  --btn-bg: #f2f2f7;Â Â Â Â Â Â Â Â Â Â Â  --accent: #ff3b30;Â Â Â Â Â Â Â  }Â Â Â Â Â Â Â  body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding-bottom: 110px; -webkit-tap-highlight-color: transparent; }Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  .header-area { position: sticky; top: 0; background: #fff; z-index: 100; border-bottom: 1px solid #efefef; }Â Â Â Â Â Â Â  .top-bar { display: flex; align-items: center; padding: 10px 15px; gap: 10px; }Â Â Â Â Â Â Â  .search-btn { background: var(--btn-bg); border: none; border-radius: 10px; padding: 8px 12px; font-size: 18px; cursor: pointer; }Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  .cat-nav { display: flex; overflow-x: auto; padding: 5px 15px 15px; gap: 20px; scrollbar-width: none; }Â Â Â Â Â Â Â  .cat-nav::-webkit-scrollbar { display: none; }Â Â Â Â Â Â Â  .cat-link { white-space: nowrap; font-size: 14px; font-weight: 500; color: var(--hint); cursor: pointer; transition: 0.2s; }Â Â Â Â Â Â Â  .cat-link.active { color: #000; border-bottom: 2px solid #000; padding-bottom: 2px; }Â Â Â Â Â Â Â  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 15px; }Â Â Â Â Â Â Â  .card { display: flex; flex-direction: column; position: relative; }Â Â Â Â Â Â Â  .img-box { width: 100%; aspect-ratio: 1/1; background: #f9f9f9; border-radius: 18px; overflow: hidden; position: relative; cursor: pointer; }Â Â Â Â Â Â Â  .img-box img { width: 100%; height: 100%; object-fit: cover; }Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  .fav-badge { position: absolute; top: 10px; right: 10px; background: rgba(255,255,255,0.8); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; cursor: pointer; z-index: 5; transition: 0.2s; }Â Â Â Â Â Â Â  .fav-badge.active { color: var(--accent); }Â Â Â Â Â Â Â  .card-info { padding: 8px 0; cursor: pointer; }Â Â Â Â Â Â Â  .card-name { font-size: 14px; font-weight: 500; height: 34px; overflow: hidden; margin-bottom: 6px; line-height: 1.2; }Â Â Â Â Â Â Â  .price-tag { background: var(--btn-bg); border: none; border-radius: 12px; padding: 10px 12px; width: 100%; display: flex; justify-content: space-between; align-items: center; font-weight: 700; font-size: 14px; cursor: pointer; }Â Â Â Â Â Â Â  #modal-overlay, #cart-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display: none; z-index: 1000; backdrop-filter: blur(4px); }Â Â Â Â Â Â Â  #modal, #cart-view { position: fixed; bottom: -100%; left: 0; width: 100%; background: #fff; border-radius: 25px 25px 0 0; padding: 20px; box-sizing: border-box; z-index: 1001; transition: 0.3s cubic-bezier(0.25, 0.1, 0.25, 1); max-height: 85vh; overflow-y: auto; }Â Â Â Â Â Â Â  #modal.open, #cart-view.open { bottom: 0; }Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  .label { font-size: 11px; font-weight: 800; text-transform: uppercase; color: #999; margin: 15px 0 8px; letter-spacing: 0.5px; }Â Â Â Â Â Â Â  .opts { display: flex; flex-wrap: wrap; gap: 8px; }Â Â Â Â Â Â Â  .opt { background: var(--btn-bg); padding: 10px 14px; border-radius: 10px; font-size: 13px; font-weight: 500; cursor: pointer; border: 2px solid transparent; }Â Â Â Â Â Â Â  .opt.active { border-color: #000; background: #fff; }Â Â Â Â Â Â Â  .main-add-btn { width: 100%; background: #000; color: #fff; border: none; padding: 18px; border-radius: 16px; font-weight: 700; font-size: 16px; margin-top: 20px; cursor: pointer; }Â Â Â Â Â Â Â  #search-bar { padding: 0 15px 10px; display: none; }Â Â Â Â Â Â Â  .search-input { width: 100%; padding: 12px; border-radius: 10px; border: none; background: var(--btn-bg); outline: none; }.tab-bar { position: fixed; bottom: 0; width: 100%; background: rgba(255,255,255,0.95); border-top: 1px solid #eee; display: flex; padding: 10px 0 25px; z-index: 500; }Â Â Â Â Â Â Â  .tab { flex: 1; text-align: center; font-size: 11px; color: var(--hint); cursor: pointer; border: none; background: none; outline: none; }Â Â Â Â Â Â Â  .tab.active { color: #000; font-weight: 600; }Â Â Â Â Â Â Â  .tab-icon { font-size: 22px; display: block; margin-bottom: 4px; }Â Â Â Â Â Â Â  .cart-item { padding: 12px 0; border-bottom: 1px solid #f0f0f0; }Â Â Â Â Â Â Â  .empty-text { text-align: center; color: var(--hint); padding: 40px 0; }Â Â Â  </style></head><body><div class="header-area">Â Â Â  <div class="top-bar">Â Â Â Â Â Â Â  <button class="search-btn" onclick="toggleSearch()">ğŸ”</button>Â Â Â Â Â Â Â  <div style="font-weight: 800; font-size: 18px; flex-grow: 1; text-align: center; margin-right: 40px;">URBAN LUNCH</div>Â Â Â  </div>Â Â Â  <div id="search-bar">Â Â Â Â Â Â Â  <input type="text" class="search-input" id="qInput" placeholder="ĞŸĞ¾Ğ¸ÑĞº Ğ½Ğ°Ğ¿Ğ¸Ñ‚ĞºĞ¾Ğ² Ğ¸ ÑĞ»Ğ°Ğ´Ğ¾ÑÑ‚ĞµĞ¹..." oninput="search(this.value)">Â Â Â  </div>Â Â Â  <div class="cat-nav" id="cat-nav"></div></div><div id="app" class="grid"></div><div class="tab-bar">Â Â Â  <button class="tab active" id="tab-home" onclick="switchTab('home')"><span class="tab-icon">ğŸ </span>ĞœĞµĞ½Ñ</button>Â Â Â  <button class="tab" id="tab-fav" onclick="switchTab('fav')"><span class="tab-icon">â¤ï¸</span>Ğ›ÑĞ±Ğ¸Ğ¼Ğ¾Ğµ</button>Â Â Â  <button class="tab" id="tab-cart" onclick="openCart()"><span class="tab-icon">ğŸ›’</span>ĞšĞ¾Ñ€Ğ·Ğ¸Ğ½Ğ°</button></div><div id="modal-overlay" onclick="closeModal()"></div><div id="modal"><div id="modal-content"></div></div><div id="cart-overlay" onclick="closeCart()"></div><div id="cart-view">Â Â Â  <h2 style="margin-top:0">ĞœĞ¾Ğ¹ Ğ·Ğ°ĞºĞ°Ğ·</h2>Â Â Â  <div id="cart-list"></div>Â Â Â  <div id="cart-total" style="font-weight:bold; margin: 20px 0; text-align:right; font-size: 18px;"></div>Â Â Â  <button class="main-add-btn" onclick="sendOrder()">ĞÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·</button>Â Â Â  <button style="width:100%; background:none; border:none; color:red; margin-top:15px; cursor:pointer" onclick="clearCart()">ĞÑ‡Ğ¸ÑÑ‚Ğ¸Ñ‚ÑŒ ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½Ñƒ</button></div><script>Â Â Â  const tg = window.Telegram.WebApp;Â Â Â  tg.expand();Â Â Â  const milks = { "ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ": 0, "Ğ‘Ğ°Ğ½Ğ°Ğ½Ğ¾Ğ²Ğ¾Ğµ": 70, "ĞšĞ¾ĞºĞ¾ÑĞ¾Ğ²Ğ¾Ğµ": 70, "ĞœĞ¸Ğ½Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ": 70, "Ğ‘ĞµĞ·Ğ»Ğ°ĞºÑ‚Ğ¾Ğ·Ğ½Ğ¾Ğµ": 70 };Â Â Â  const syrups = ["ĞĞµÑ‚", "Ğ¤Ğ¸ÑÑ‚Ğ°ÑˆĞºĞ°", "ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹ Ğ°Ğ¿ĞµĞ»ÑŒÑĞ¸Ğ½", "Ğ›Ğ°Ğ²Ğ°Ğ½Ğ´Ğ°", "ĞšĞ»ÑƒĞ±Ğ½Ğ¸ĞºĞ°", "Ğ˜Ğ¼Ğ±Ğ¸Ñ€Ğ½Ñ‹Ğ¹ Ğ¿Ñ€ÑĞ½Ğ¸Ğº", "Ğ›ĞµÑĞ½Ğ¾Ğ¹ Ğ¾Ñ€ĞµÑ…", "ĞŸĞµÑ€ÑĞ¸Ğº", "Ğ”Ñ‹Ğ½Ñ", "Ğ¡Ğ»Ğ¸Ğ²Ğ°", "Ğ¯Ğ±Ğ»Ğ¾ĞºĞ¾", "Ğ›ĞµĞ¼Ğ¾Ğ½Ğ³Ñ€Ğ°ÑÑ", "ĞœĞ°Ğ»Ğ¸Ğ½Ğ°", "ĞŸĞ¾Ğ¿ĞºĞ¾Ñ€Ğ½", "ĞšĞ¾ĞºĞ¾Ñ", "ĞœĞ¸Ğ½Ğ´Ğ°Ğ»ÑŒ", "Ğ’Ğ¸ÑˆĞ½Ñ", "Ğ‘Ğ°Ğ±Ğ»Ğ³Ğ°Ğ¼", "Ğ¡Ğ¾Ğ»ĞµĞ½Ğ°Ñ ĞºĞ°Ñ€Ğ°Ğ¼ĞµĞ»ÑŒ", "ĞšĞ°Ñ€Ğ°Ğ¼ĞµĞ»ÑŒ", "Ğ’Ğ°Ğ½Ğ¸Ğ»ÑŒ"];Â Â Â  const sPrices = { "250Ğ¼Ğ»": 25, "350Ğ¼Ğ»": 35, "450Ğ¼Ğ»": 60 };const menuData = [Â Â Â Â Â Â Â  { category: "ĞšĞ¾Ñ„Ğµ", items: [Â Â Â Â Â Â Â Â Â Â Â  { id: 1, name: "ĞšĞ°Ğ¿ÑƒÑ‡Ğ¸Ğ½Ğ¾", image: "kapuchino-min.jpg", prices: {"250Ğ¼Ğ»": 190, "350Ğ¼Ğ»": 230, "450Ğ¼Ğ»": 270}, hasMilk: true, hasSyrup: true, hasSugar: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 2, name: "Ğ›Ğ°Ñ‚Ñ‚Ğµ", image: "latte-min.jpg", prices: {"250Ğ¼Ğ»": 190, "350Ğ¼Ğ»": 230, "450Ğ¼Ğ»": 270}, hasMilk: true, hasSyrup: true, hasSugar: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 3, name: "Ğ­ÑĞ¿Ñ€ĞµÑÑĞ¾", image: "espresso1-min.jpg", prices: {"30Ğ¼Ğ»": 110, "60Ğ¼Ğ»": 150}, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 4, name: "ĞĞ¼ĞµÑ€Ğ¸ĞºĞ°Ğ½Ğ¾", image: "americano-min.jpg", prices: {"250Ğ¼Ğ»": 180, "350Ğ¼Ğ»": 220, "450Ğ¼Ğ»": 260}, hasSyrup: true, hasSugar: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 5, name: "Ğ¤Ğ»Ğ°Ñ‚ Ğ£Ğ°Ğ¹Ñ‚", image: "latte-min.jpg", prices: {"250Ğ¼Ğ»": 220, "350Ğ¼Ğ»": 260, "450Ğ¼Ğ»": 360}, hasMilk: true, hasSyrup: true, hasSugar: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 6, name: "Ğ Ğ°Ñ„", image: "latte-min.jpg", prices: {"250Ğ¼Ğ»": 210, "350Ğ¼Ğ»": 250, "450Ğ¼Ğ»": 290}, hasMilk: true, hasSyrup: true, hasSugar: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 7, name: "Ğ‘Ğ°Ğ¼Ğ±Ğ» Ğ¢ĞµĞ¿Ğ»Ñ‹Ğ¹", image: "oblepihapunch-min.jpg", prices: {"250Ğ¼Ğ»": 270, "350Ğ¼Ğ»": 270, "450Ğ¼Ğ»": 300}, hasJuice: true, hasSyrup: true, hasSugar: true }Â Â Â Â Â Â Â  ]},Â Â Â Â Â Â Â  { category: "Ğ§Ğ°Ğ¹", items: [Â Â Â Â Â Â Â Â Â Â Â  { id: 8, name: "Ğ§Ğ°Ğ¹ Ğ§ĞµÑ€Ğ½Ñ‹Ğ¹", image: "teablack-min.jpg", prices: {"250Ğ¼Ğ»": 120, "350Ğ¼Ğ»": 150, "450Ğ¼Ğ»": 180}, hasSugar: true, hasLemon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 9, name: "Ğ§Ğ°Ğ¹ Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹", image: "greentea-min.jpg", prices: {"250Ğ¼Ğ»": 120, "350Ğ¼Ğ»": 150, "450Ğ¼Ğ»": 180}, hasSugar: true, hasLemon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 10, name: "Ğ§Ğ°Ğ¹ ĞšĞ°Ñ€ĞºĞ°Ğ´Ğµ", image: "karkadetea-min.jpg", prices: {"250Ğ¼Ğ»": 120, "350Ğ¼Ğ»": 150, "450Ğ¼Ğ»": 180}, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 11, name: "Ğ—ĞµĞ»ĞµĞ½Ñ‹Ğ¹ Ğ–Ğ°ÑĞ¼Ğ¸Ğ½", image: "greenjasmin-min.jpg", prices: {"250Ğ¼Ğ»": 120, "350Ğ¼Ğ»": 150, "450Ğ¼Ğ»": 180}, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 12, name: "Ğ¢Ñ€Ğ°Ğ²ÑĞ½Ğ¾Ğ¹ Ğ§Ğ°Ğ¹", image: "travatea-min.jpg", prices: {"250Ğ¼Ğ»": 120, "350Ğ¼Ğ»": 150, "450Ğ¼Ğ»": 180}, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 13, name: "ĞœĞ°Ñ‚Ñ‡Ğ°", image: "matcha-min.jpg", prices: {"250Ğ¼Ğ»": 180, "350Ğ¼Ğ»": 220, "450Ğ¼Ğ»": 260}, isMatcha: true, hasMilk: true, hasSyrup: true, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 14, name: "ĞšĞ°ĞºĞ°Ğ¾", image: "kakao-min.jpg", prices: {"250Ğ¼Ğ»": 180, "350Ğ¼Ğ»": 220, "450Ğ¼Ğ»": 260}, hasMilk: true, hasSyrup: true, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 15, name: "ĞŸÑ€ÑĞ½Ñ‹Ğ¹ Ğ§Ğ°Ğ¹", image: "pryanytea-min.jpg", prices: {"250Ğ¼Ğ»": 240, "350Ğ¼Ğ»": 280, "450Ğ¼Ğ»": 320}, hasMilk: true, hasSyrup: true, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 16, name: "Ğ“Ğ¾Ñ€ÑÑ‡Ğ¸Ğ¹ Ğ¨Ğ¾ĞºĞ¾Ğ»Ğ°Ğ´", image: "kakao-min.jpg", prices: {"250Ğ¼Ğ»": 180, "350Ğ¼Ğ»": 220, "450Ğ¼Ğ»": 260}, hasSugar: true }Â Â Â Â Â Â Â  ]},Â Â Â Â Â Â Â  { category: "ĞŸÑƒĞ½ÑˆĞ¸", items: [Â Â Â Â Â Â Â Â Â Â Â  { id: 17, name: "Ğ“Ğ»Ğ¸Ğ½Ñ‚Ğ²ĞµĞ¹Ğ½", image: "glintveinpunch-min.jpg", prices: {"350Ğ¼Ğ»": 230, "450Ğ¼Ğ»": 270} },Â Â Â Â Â Â Â Â Â Â Â  { id: 18, name: "ĞĞ±Ğ»ĞµĞ¿Ğ¸Ñ…Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿ÑƒĞ½Ñˆ", image: "oblepihapunch-min.jpg", prices: {"350Ğ¼Ğ»": 230, "450Ğ¼Ğ»": 270}, hasHoney: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 19, name: "ĞœĞ°Ğ»Ğ¸Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿ÑƒĞ½Ñˆ", image: "malinapunsh-min.jpg", prices: {"350Ğ¼Ğ»": 230, "450Ğ¼Ğ»": 270} }Â Â Â Â Â Â Â  ]},Â Â Â Â Â Â Â  { category: "Ğ¥Ğ¾Ğ»Ğ¾Ğ´Ğ½Ñ‹Ğµ", items: [Â Â Â Â Â Â Â Â Â Â Â  { id: 20, name: "ĞĞ¹Ñ Ğ›Ğ°Ñ‚Ñ‚Ğµ", image: "latte-min.jpg", prices: {"350Ğ¼Ğ»": 240, "450Ğ¼Ğ»": 280}, hasMilk: true, hasSyrup: true, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 21, name: "Ğ­ÑĞ¿Ñ€ĞµÑÑĞ¾ Ğ¢Ğ¾Ğ½Ğ¸Ğº", image: "granattonic-min.jpg", prices: {"350Ğ¼Ğ»": 250, "450Ğ¼Ğ»": 290}, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 22, name: "Ğ‘Ğ°Ğ¼Ğ±Ğ» Ğ¥Ğ¾Ğ»Ğ¾Ğ´Ğ½Ñ‹Ğ¹", image: "granattonic-min.jpg", prices: {"350Ğ¼Ğ»": 270, "450Ğ¼Ğ»": 300}, hasJuice: true, hasSyrup: true, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 23, name: "ĞĞ¹Ñ ĞœĞ°Ñ‚Ñ‡Ğ°", image: "matcha-min.jpg", prices: {"350Ğ¼Ğ»": 230, "450Ğ¼Ğ»": 270}, isMatcha: true, hasMilk: true, hasSyrup: true, hasSugar: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 24, name: "Ğ›Ğ¸Ğ¼Ğ¾Ğ½Ğ°Ğ´", image: "lemonchernogo-min.jpg", prices: {"350Ğ¼Ğ»": 260, "450Ğ¼Ğ»": 290}, hasLemonadeTaste: true }Â Â Â Â Â Â Â  ]},Â Â Â Â Â Â Â  { category: "Ğ¡ĞµĞ·Ğ¾Ğ½Ğ½Ñ‹Ğµ", items: [{ id: 25, name: "Ğ›Ğ°Ñ‚Ñ‚Ğµ Ğ¥Ğ°Ğ»Ğ²Ğ°", image: "lattehalva-min.jpg", prices: {"350Ğ¼Ğ»": 290, "450Ğ¼Ğ»": 350}, hasMilk: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 26, name: "Ğ›Ğ°Ñ‚Ñ‚Ğµ Ğ¢Ñ‹ĞºĞ²Ğ°", image: "lattetikva-min.jpg", prices: {"350Ğ¼Ğ»": 290, "450Ğ¼Ğ»": 350}, hasMilk: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 27, name: "Ğ Ğ°Ñ„ Ğ¡Ğ½Ğ¸ĞºĞµÑ€Ñ", image: "rafsnikers-min.jpg", prices: {"350Ğ¼Ğ»": 320, "450Ğ¼Ğ»": 380}, hasMilk: true, hasCinnamon: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 28, name: "Latte Orange Christmas", image: "latteorangecristmas-min.jpg", prices: {"350Ğ¼Ğ»": 320, "450Ğ¼Ğ»": 380}, hasMilk: true, hasCinnamon: true }Â Â Â Â Â Â Â  ]},Â Â Â Â Â Â Â  { category: "Ğ¡Ğ»Ğ°Ğ´Ğ¾ÑÑ‚Ğ¸", items: [Â Â Â Â Â Â Â Â Â Â Â  { id: 29, name: "Bombbar Ğ»ĞµÑĞ½Ğ¾Ğ¹ Ğ¾Ñ€ĞµÑ…", image: "bombbarfunduk-min.jpg", prices: {"1ÑˆÑ‚": 130} },Â Â Â Â Â Â Â Â Â Â Â  { id: 30, name: "Bombbar Ğ¼Ğ°Ğ»Ğ¸Ğ½Ğ¾Ğ²Ñ‹Ğ¹", image: "bombbarmalina-min.jpg", prices: {"1ÑˆÑ‚": 130} },Â Â Â Â Â Â Â Â Â Â Â  { id: 31, name: "Bombbar ĞºĞ¾ĞºĞ¾Ñ", image: "bombbarcocos-min.jpg", prices: {"1ÑˆÑ‚": 130} },Â Â Â Â Â Â Â Â Â Â Â  { id: 32, name: "Snaqer Ğ¾Ñ€ĞµÑ…/ĞºĞ°Ñ€Ğ°Ğ¼ĞµĞ»ÑŒ", image: "snaqerfunduk-min.jpg", prices: {"1ÑˆÑ‚": 130} },Â Â Â Â Â Â Â Â Â Â Â  { id: 33, name: "Cookie ÑĞ¼Ğ¾Ñ€Ğ¾Ğ´Ğ¸Ğ½Ğ°", image: "chikabiscuitblackcurrant-min.jpg", prices: {"1ÑˆÑ‚": 170} },Â Â Â Â Â Â Â Â Â Â Â  { id: 34, name: "Cookie Ğ±Ğ°Ğ½Ğ°Ğ½", image: "chikabiscuitbanan-min.jpg", prices: {"1ÑˆÑ‚": 170} }Â Â Â Â Â Â Â  ]},Â Â Â Â Â Â Â  { category: "Ğ“Ğ°Ğ·Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°", items: [Â Â Â Â Â Â Â Â Â Â Â  { id: 35, name: "Cola Ğ§ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°", image: "colachernogo-min.jpg", prices: {"0.5Ğ»": 140}, hasTemp: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 36, name: "Ğ‘Ğ°Ğ¹ĞºĞ°Ğ» Ğ§ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°", image: "baikalchernogo-min.jpg", prices: {"0.5Ğ»": 140}, hasTemp: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 37, name: "Ğ›Ğ¸Ğ¼Ğ¾Ğ½Ğ°Ğ´ Ğ§ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾Ğ»Ğ¾Ğ²ĞºĞ°", image: "lemonchernogo-min.jpg", prices: {"0.5Ğ»": 140}, hasTemp: true },Â Â Â Â Â Â Â Â Â Â Â  { id: 38, name: "Ğ’Ğ¾Ğ´Ğ° Ğ“Ğ°Ğ·/ĞĞµĞ³Ğ°Ğ·", image: "negazcernogo-min.jpg", prices: {"0.5Ğ»": 70}, hasTemp: true }Â Â Â Â Â Â Â  ]}Â Â Â  ];Â Â Â  let cart = [];Â Â Â  let favorites = JSON.parse(localStorage.getItem('urban_favs')Â  '[]');Â Â Â  let currentMode = 'home';Â Â Â  function init() {Â Â Â Â Â Â Â  const nav = document.getElementById('cat-nav');Â Â Â Â Â Â Â  nav.innerHTML = menuData.map((c, i) => `<div class="cat-link ${i===0?'active':''}" onclick="filterByCat('${c.category}', this)">${c.category}</div>`).join('');Â Â Â Â Â Â Â  renderProducts(menuData);Â Â Â  }Â Â Â  function renderProducts(data) {Â Â Â Â Â Â Â  const app = document.getElementById('app');Â Â Â Â Â Â Â  app.innerHTML = '';Â Â Â Â Â Â Â  if(data.length === 0) { app.innerHTML = '<div class="empty-text">Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿ÑƒÑÑ‚</div>'; return; }Â Â Â Â Â Â Â  data.forEach(cat => {Â Â Â Â Â Â Â Â Â Â Â  cat.items.forEach(item => {Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const isFav = favorites.includes(item.id);Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const card = document.createElement('div'); card.className = 'card';Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  card.innerHTML = `Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <div class="fav-badge ${isFav?'active':''}" onclick="toggleFav(${item.id}, event)">${isFav?'â¤ï¸':'ğŸ¤'}</div>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <div class="img-box" onclick="openItem(${item.id})"><img src="${item.image}"></div>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <div class="card-info" onclick="openItem(${item.id})">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <div class="card-name">${item.name}</div>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <button class="price-tag">${Object.values(item.prices)[0]} â‚½ <span>+</span></button>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  </div>`;Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  app.appendChild(card);Â Â Â Â Â Â Â Â Â Â Â  });Â Â Â Â Â Â Â  });Â Â Â  }Â Â Â  function switchTab(mode) {Â Â Â Â Â Â Â  currentMode = mode;Â Â Â Â Â Â Â  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));Â Â Â Â Â Â Â  document.getElementById('tab-' + (mode==='home'?'home':'fav')).classList.add('active');Â Â Â Â Â Â Â  if(mode === 'home') init();Â Â Â Â Â Â Â  else {Â Â Â Â Â Â Â Â Â Â Â  const favData = menuData.map(c => ({ category: c.category, items: c.items.filter(i => favorites.includes(i.id)) })).filter(c => c.items.length > 0);Â Â Â Â Â Â Â Â Â Â Â  renderProducts(favData);Â Â Â Â Â Â Â  }Â Â Â  }Â Â Â  function toggleFav(id, e) {Â Â Â Â Â Â Â  e.stopPropagation();Â Â Â Â Â Â Â  if(favorites.includes(id)) favorites = favorites.filter(f => f !== id);Â Â Â Â Â Â Â  else favorites.push(id);Â Â Â Â Â Â Â  localStorage.setItem('urban_favs', JSON.stringify(favorites));Â Â Â Â Â Â Â  if(currentMode === 'fav') switchTab('fav'); else {Â Â Â Â Â Â Â Â Â Â Â  const btn = e.currentTarget; btn.classList.toggle('active');Â Â Â Â Â Â Â Â Â Â Â  btn.innerText = favorites.includes(id) ? 'â¤ï¸' : 'ğŸ¤';Â Â Â Â Â Â Â  }Â Â Â  }Â Â Â  function openItem(id) {Â Â Â Â Â Â Â  let item; menuData.forEach(c => c.items.forEach(i => { if(i.id === id) item = i; }));Â Â Â Â Â Â Â  window.cur = { item, size: Object.keys(item.prices)[0], milk: "ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ", syrup: "ĞĞµÑ‚", sugar: "0Ğ³", cinnamon: "ĞĞµÑ‚", juice: "ĞĞ¿ĞµĞ»ÑŒÑĞ¸Ğ½", lemonadeTaste: "ĞšĞ¸Ğ²Ğ¸-Ğ¤ĞµĞ¹Ñ…Ğ¾Ğ°", temp: "Ğ¥Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ°Ñ" };Â Â Â Â Â Â Â  showModal();Â Â Â  }Â Â Â  function showModal() {Â Â Â Â Â Â Â  const i = window.cur.item;Â Â Â Â Â Â Â  const cont = document.getElementById('modal-content');Â Â Â Â Â Â Â  cont.innerHTML = `Â Â Â Â Â Â Â Â Â Â Â  <div style="text-align:center; margin-bottom:15px"><img src="${i.image}" style="width:140px; border-radius:20px"></div>Â Â Â Â Â Â Â Â Â Â Â  <h2 style="margin:0; text-align:center">${i.name}</h2>Â Â Â Â Â Â Â Â Â Â Â  <div class="label">Ğ Ğ°Ğ·Ğ¼ĞµÑ€</div>Â Â Â Â Â Â Â Â Â Â Â  <div class="opts">${Object.keys(i.prices).map(s=>`<div class="opt ${s==cur.size?'active':''}" onclick="cur.size='${s}';showModal()">${s}</div>`).join('')}</div>Â Â Â Â Â Â Â Â Â Â Â  ${i.hasMilk ? `<div class="label">ĞœĞ¾Ğ»Ğ¾ĞºĞ¾ (+70â‚½)</div><div class="opts">${Object.keys(milks).map(m=>`<div class="opt ${m==cur.milk?'active':''}" onclick="cur.milk='${m}';showModal()">${m}</div>`).join('')}</div>` : ''}Â Â Â Â Â Â Â Â Â Â Â  ${i.hasSyrup ? `<div class="label">Ğ¡Ğ¸Ñ€Ğ¾Ğ¿</div><div class="opts">${syrups.map(s=>`<div class="opt ${s==cur.syrup?'active':''}" onclick="cur.syrup='${s}';showModal()">${s}</div>`).join('')}</div>` : ''}Â Â Â Â Â Â Â Â Â Â Â  ${i.hasSugar ? `<div class="label">Ğ¡Ğ°Ñ…Ğ°Ñ€</div><div class="opts">${['0Ğ³','5Ğ³','10Ğ³','15Ğ³','20Ğ³'].map(g=>`<div class="opt ${cur.sugar==g?'active':''}" onclick="cur.sugar='${g}';showModal()">${g}</div>`).join('')}</div>` : ''}Â Â Â Â Â Â Â Â Â Â Â  <button class="main-add-btn" onclick="addToCart()">Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ â€” ${calcP()} â‚½</button>Â Â Â Â Â Â Â  `;Â Â Â Â Â Â Â  document.getElementById('modal-overlay').style.display = 'block';Â Â Â Â Â Â Â  document.getElementById('modal').classList.add('open');Â Â Â  }Â Â Â  function calcP() {Â Â Â Â Â Â Â  let p = cur.item.prices[cur.size];Â Â Â Â Â Â Â  if(cur.item.hasMilk && cur.milk !== 'ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ') p += 70;Â Â Â Â Â Â Â  if(cur.item.hasSyrup && cur.syrup !== 'ĞĞµÑ‚') p += (sPrices[cur.size]Â  0);Â Â Â Â Â Â Â  return p;Â Â Â  }Â Â Â  function addToCart() {Â Â Â Â Â Â Â  cart.push({...window.cur, finalPrice: calcP()});Â Â Â Â Â Â Â  tg.MainButton.setText(`ĞšĞĞ Ğ—Ğ˜ĞĞ: ${cart.reduce((a,b)=>a+b.finalPrice,0)} â‚½`).show();Â Â Â Â Â Â Â  closeModal();Â Â Â  }Â Â Â  function openCart() {Â Â Â Â Â Â Â  const list = document.getElementById('cart-list');Â Â Â Â Â Â Â  list.innerHTML = cart.length === 0 ? '<div class="empty-text">Ğ’Ñ‹ ĞµÑ‰Ğµ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ»Ğ¸</div>' : cart.map(i => `Â Â Â Â Â Â Â Â Â Â Â  <div class="cart-item">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <div style="display:flex; justify-content:space-between"><b>${i.item.name}</b> <span>${i.finalPrice} â‚½</span></div>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  <div style="font-size:11px; color:#888; margin-top:4px">${i.size}${i.milk!=='ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ'?', '+i.milk:''}${i.syrup!=='ĞĞµÑ‚'?', '+i.syrup:''}${i.sugar!=='0Ğ³'?', ÑĞ°Ñ…: '+i.sugar:''}</div>Â Â Â Â Â Â Â Â Â Â Â  </div>`).join('');Â Â Â Â Â Â Â  document.getElementById('cart-total').innerText = `Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: ${cart.reduce((a,b)=>a+b.finalPrice,0)} â‚½`;Â Â Â Â Â Â Â  document.getElementById('cart-overlay').style.display = 'block';Â Â Â Â Â Â Â  document.getElementById('cart-view').classList.add('open');Â Â Â  }Â Â Â  function filterByCat(name, el) {Â Â Â Â Â Â Â  document.querySelectorAll('.cat-link').forEach(l => l.classList.remove('active'));Â Â Â Â Â Â Â  el.classList.add('active');Â Â Â Â Â Â Â  renderProducts(menuData.filter(c => c.category === name));Â Â Â  }Â Â Â  function toggleSearch() {Â Â Â Â Â Â Â  const b = document.getElementById('search-bar');Â Â Â Â Â Â Â  b.style.display = b.style.display === 'block' ? 'none' : 'block';Â Â Â  }Â Â Â  function search(q) {Â Â Â Â Â Â Â  const res = menuData.map(c => ({ category: c.category, items: c.items.filter(i => i.name.toLowerCase().includes(q.toLowerCase())) })).filter(c => c.items.length > 0);Â Â Â Â Â Â Â  renderProducts(res);Â Â Â  }window.closeModal = () => { document.getElementById('modal').classList.remove('open'); setTimeout(()=>document.getElementById('modal-overlay').style.display='none',300); };Â Â Â  window.closeCart = () => { document.getElementById('cart-view').classList.remove('open'); setTimeout(()=>document.getElementById('cart-overlay').style.display='none',300); };Â Â Â  window.clearCart = () => { cart=[]; tg.MainButton.hide(); openCart(); };Â Â Â  Â Â Â  // Ğ˜Ğ¡ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞĞĞ¯ Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ¯ Ğ”Ğ›Ğ¯ Ğ‘ĞĞ¢Ğ Ğ’ TERMUXÂ Â Â  window.sendOrder = () => {Â Â Â Â Â Â Â  if (cart.length === 0) return;Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  const orderData = {Â Â Â Â Â Â Â Â Â Â Â  title: "Ğ—Ğ°ĞºĞ°Ğ· Urban Lunch",Â Â Â Â Â Â Â Â Â Â Â  prices: cart.map(i => ({Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  label: ${i.item.name} (${i.size}${i.milk !== 'ĞĞ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ' ? ', ' + i.milk : ''}),Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  amount: i.finalPrice * 100 // ĞšĞ¾Ğ¿ĞµĞ¹ĞºĞ¸Â Â Â Â Â Â Â Â Â Â Â  }))Â Â Â Â Â Â Â  };Â Â Â Â Â Â Â  Â Â Â Â Â Â Â  tg.sendData(JSON.stringify(orderData));Â Â Â Â Â Â Â  tg.close();Â Â Â  };Â Â Â  Â Â Â  tg.onEvent('mainButtonClicked', openCart);Â Â Â  init();</script></body></html>
